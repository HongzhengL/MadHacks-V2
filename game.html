<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>The Badger Budget: Planning Edition</title>
        <link rel="stylesheet" href="game.css" />
    </head>
    <body>
        <div id="setup-modal" class="modal-overlay">
            <div class="modal-box" id="setup-step-1">
                <h2>Welcome to Madison! ðŸ¦¡</h2>
                <p>Select your income level:</p>
                <div class="selection-grid" id="diff-options"></div>
            </div>
            <div class="modal-box hidden" id="setup-step-2">
                <h2>Choose Housing</h2>
                <p>Rent is paid every 2 weeks.</p>
                <div class="selection-grid" id="housing-options"></div>
            </div>
        </div>

        <header>
            <div style="display: flex; gap: 10px; align-items: center">
                <h3 style="margin: 0; color: var(--primary-red)">
                    Badger Budget
                </h3>
                <div class="stat-badge bg-light">
                    Week <span id="ui-round">1</span>
                </div>
            </div>
            <div style="display: flex; gap: 10px; align-items: center">
                <div class="stat-badge bg-green-light">
                    Balance:
                    <span id="ui-cash" style="margin-left: 5px">$0</span>
                </div>
                <div class="stat-badge bg-light">
                    Savings:
                    <span id="ui-savings" style="margin-left: 5px">$0</span>
                </div>
                <div class="stat-badge bg-light" id="debt-badge">
                    Debt:
                    <span id="ui-debt" style="margin-left: 5px">$0</span>
                    <span
                        id="ui-debt-count"
                        style="margin-left: 5px; font-size: 0.8rem; color: #666"
                        >(0)</span
                    >
                </div>
                <div
                    class="stat-badge"
                    style="background: #e3f2fd; color: #1565c0">
                    Quality of Life: <span id="ui-qol" style="margin-left: 5px">50</span>
                </div>
                <button class="btn-ghost" onclick="openRecap()">
                    View Recap
                </button>
                <button class="btn-primary" onclick="nextRound()">
                    Finish Round
                </button>
            </div>
        </header>

        <div
            id="recap-modal"
            class="recap-overlay"
            onclick="if(event.target === this) closeRecap()">
            <div class="recap-panel">
                <div class="recap-header">
                    <div>
                        <div class="recap-eyebrow">Because you...</div>
                        <div class="recap-title">Last round's ripple effects</div>
                    </div>
                    <div style="display: flex; gap: 8px; align-items: center">
                        <div class="recap-round">
                            Round <span id="recap-round">-</span>
                        </div>
                        <button class="btn-ghost" onclick="closeRecap()">Close</button>
                    </div>
                </div>
                <ul class="recap-list" id="recap-list">
                    <li class="recap-empty">
                        Finish a round to see the cause-and-effect story.
                    </li>
                </ul>
            </div>
        </div>

        
        <div class="wallet-row">
            <span style="font-weight: bold; font-size: 0.9rem; color: #555"
                >Drag to Pay:</span
            >
            <div
                class="bill bill-100"
                draggable="true"
                ondragstart="drag(event)"
                data-val="100"
                data-type="cash">
                $100
            </div>
            <div
                class="bill bill-50"
                draggable="true"
                ondragstart="drag(event)"
                data-val="50"
                data-type="cash">
                $50
            </div>
            <div
                class="bill bill-10"
                draggable="true"
                ondragstart="drag(event)"
                data-val="10"
                data-type="cash">
                $10
            </div>
            <div
                class="bill bill-1"
                draggable="true"
                ondragstart="drag(event)"
                data-val="1"
                data-type="cash">
                $1
            </div>
            <div style="width: 1px; height: 20px; background: #ddd"></div>
            <div
                class="bill card-credit"
                draggable="true"
                ondragstart="drag(event)"
                data-val="ALL"
                data-type="credit">
                ðŸ’³ Credit
            </div>
            <span style="font-size: 0.8rem; color: #888; margin-left: auto"
                >Tip: Click small bills on cards to undo.</span
            >
        </div>

        <div class="board">
            <div class="column col-fixed">
                <div class="col-header">
                    FIXED <span id="count-fixed">(0)</span>
                </div>
                <div class="col-content" id="col-fixed-content"></div>
            </div>
            <div class="column col-var">
                <div class="col-header">
                    VARIABLE <span id="count-var">(0)</span>
                </div>
                <div class="col-content" id="col-var-content"></div>
            </div>
            <div class="column col-goal">
                <div class="col-header">
                    GOAL <span id="count-goal">(0)</span>
                </div>
                <div class="col-content" id="col-goal-content"></div>
            </div>
            <div class="column col-event">
                <div class="col-header">
                    EVENT <span id="count-event">(0)</span>
                </div>
                <div class="col-content" id="col-event-content"></div>
            </div>
            <div class="column col-opp">
                <div class="col-header">
                    OPPORTUNITY <span id="count-opp">(0)</span>
                </div>
                <div class="col-content" id="col-opp-content"></div>
            </div>
        </div>

        <div id="toast" class="toast">Msg</div>

        <script src="game.js"></script>
    </body>
</html>
